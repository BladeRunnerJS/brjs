<!DOCTYPE html>
<html>
	<head>
		<base href="@APP.VERSION@"/>
		<title>BladeRunner Dashboard</title>
		<link rel="shortcut icon" href="favicon.ico">
		
		<@css.bundle theme="standard"@/>
		<link type="text/css" rel="stylesheet" media="screen" href="unbundled-resources/standard-theme/typography.css" />
		
		<!-- TODO: remove this script block once we have a more reliable way of determining whether libraries have been required using a trie -->
		<script type="text/javascript">
			function TestCase() {
			}
			jstestdriver = {
				pluginRegistrar:{
					register:function(){}
				}
			};
		</script>
		<@new-js.bundle dev-minifier="combined"@/>
		<script type="text/javascript" src="unbundled-resources/browserCheck.js"></script>
		<script type="text/javascript" src="unbundled-resources/releaseNoteUtils.js"></script>
		
		<script type="text/javascript">
			var League = require('caplinx/dashboard/app/typescript/pkg/League');
			var Team = require('caplinx/dashboard/app/typescript/Team');
			
			var league = new League("NFL AFC East");
			var miamiDolphins = new Team("Miami Dolphins");
			league.addTeam(miamiDolphins);
			
			alert(league.getName());
		</script>
			
		<script type="text/javascript">
			br.Core.thirdparty("jquery");
			br.Core.thirdparty("wolf-simple-box");
			
			var oApp;
			
			jQuery(document).ready(function() {
			
				if( !fIsSupportedBrowser() )
				{
					return false;
				}
				
				caplinx.dashboard.app.DashboardApp.initializeLibrary();
				
				var oDashboardService = new caplinx.dashboard.app.service.dashboard.DashboardProvider(
					new caplinx.dashboard.app.service.request.XHRFactory(), "servlet/app-manager");
				var oPageUrlService = new caplinx.dashboard.app.service.url.PageUrlProvider();
				var oWindowOpenerService = new caplinx.dashboard.app.service.window.WindowOpenerProvider();
				var oBrowserDetector = new caplinx.dashboard.app.service.browserdetector.BrowserDetector();
				
				oApp = new caplinx.dashboard.app.DashboardApp(oDashboardService, oPageUrlService, oWindowOpenerService, document.body, localStorage, oBrowserDetector);
			});
		</script>
	</head>
</html>